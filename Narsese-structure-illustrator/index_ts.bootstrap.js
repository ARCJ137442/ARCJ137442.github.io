"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkcreate_wasm_app"] = self["webpackChunkcreate_wasm_app"] || []).push([["index_ts"],{

/***/ "../pkg/narsese_structure_illustrator.js":
/*!***********************************************!*\
  !*** ../pkg/narsese_structure_illustrator.js ***!
  \***********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   __wbg_error_f851667af71bcfc6: () => (/* reexport safe */ _narsese_structure_illustrator_bg_js__WEBPACK_IMPORTED_MODULE_0__.__wbg_error_f851667af71bcfc6),\n/* harmony export */   __wbg_new_abda76e883ba8a5f: () => (/* reexport safe */ _narsese_structure_illustrator_bg_js__WEBPACK_IMPORTED_MODULE_0__.__wbg_new_abda76e883ba8a5f),\n/* harmony export */   __wbg_set_wasm: () => (/* reexport safe */ _narsese_structure_illustrator_bg_js__WEBPACK_IMPORTED_MODULE_0__.__wbg_set_wasm),\n/* harmony export */   __wbg_stack_658279fe44541cf6: () => (/* reexport safe */ _narsese_structure_illustrator_bg_js__WEBPACK_IMPORTED_MODULE_0__.__wbg_stack_658279fe44541cf6),\n/* harmony export */   __wbindgen_object_drop_ref: () => (/* reexport safe */ _narsese_structure_illustrator_bg_js__WEBPACK_IMPORTED_MODULE_0__.__wbindgen_object_drop_ref),\n/* harmony export */   __wbindgen_string_new: () => (/* reexport safe */ _narsese_structure_illustrator_bg_js__WEBPACK_IMPORTED_MODULE_0__.__wbindgen_string_new),\n/* harmony export */   demonstrate_narsese: () => (/* reexport safe */ _narsese_structure_illustrator_bg_js__WEBPACK_IMPORTED_MODULE_0__.demonstrate_narsese),\n/* harmony export */   translate_between: () => (/* reexport safe */ _narsese_structure_illustrator_bg_js__WEBPACK_IMPORTED_MODULE_0__.translate_between)\n/* harmony export */ });\n/* harmony import */ var _narsese_structure_illustrator_bg_wasm__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./narsese_structure_illustrator_bg.wasm */ \"../pkg/narsese_structure_illustrator_bg.wasm\");\n/* harmony import */ var _narsese_structure_illustrator_bg_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./narsese_structure_illustrator_bg.js */ \"../pkg/narsese_structure_illustrator_bg.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_narsese_structure_illustrator_bg_wasm__WEBPACK_IMPORTED_MODULE_1__]);\n_narsese_structure_illustrator_bg_wasm__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n(0,_narsese_structure_illustrator_bg_js__WEBPACK_IMPORTED_MODULE_0__.__wbg_set_wasm)(_narsese_structure_illustrator_bg_wasm__WEBPACK_IMPORTED_MODULE_1__);\n\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://create-wasm-app/../pkg/narsese_structure_illustrator.js?");

/***/ }),

/***/ "../pkg/narsese_structure_illustrator_bg.js":
/*!**************************************************!*\
  !*** ../pkg/narsese_structure_illustrator_bg.js ***!
  \**************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   __wbg_error_f851667af71bcfc6: () => (/* binding */ __wbg_error_f851667af71bcfc6),\n/* harmony export */   __wbg_new_abda76e883ba8a5f: () => (/* binding */ __wbg_new_abda76e883ba8a5f),\n/* harmony export */   __wbg_set_wasm: () => (/* binding */ __wbg_set_wasm),\n/* harmony export */   __wbg_stack_658279fe44541cf6: () => (/* binding */ __wbg_stack_658279fe44541cf6),\n/* harmony export */   __wbindgen_object_drop_ref: () => (/* binding */ __wbindgen_object_drop_ref),\n/* harmony export */   __wbindgen_string_new: () => (/* binding */ __wbindgen_string_new),\n/* harmony export */   demonstrate_narsese: () => (/* binding */ demonstrate_narsese),\n/* harmony export */   translate_between: () => (/* binding */ translate_between)\n/* harmony export */ });\n/* module decorator */ module = __webpack_require__.hmd(module);\nlet wasm;\nfunction __wbg_set_wasm(val) {\n    wasm = val;\n}\n\n\nconst lTextDecoder = typeof TextDecoder === 'undefined' ? (0, module.require)('util').TextDecoder : TextDecoder;\n\nlet cachedTextDecoder = new lTextDecoder('utf-8', { ignoreBOM: true, fatal: true });\n\ncachedTextDecoder.decode();\n\nlet cachedUint8Memory0 = null;\n\nfunction getUint8Memory0() {\n    if (cachedUint8Memory0 === null || cachedUint8Memory0.byteLength === 0) {\n        cachedUint8Memory0 = new Uint8Array(wasm.memory.buffer);\n    }\n    return cachedUint8Memory0;\n}\n\nfunction getStringFromWasm0(ptr, len) {\n    ptr = ptr >>> 0;\n    return cachedTextDecoder.decode(getUint8Memory0().subarray(ptr, ptr + len));\n}\n\nconst heap = new Array(128).fill(undefined);\n\nheap.push(undefined, null, true, false);\n\nlet heap_next = heap.length;\n\nfunction addHeapObject(obj) {\n    if (heap_next === heap.length) heap.push(heap.length + 1);\n    const idx = heap_next;\n    heap_next = heap[idx];\n\n    heap[idx] = obj;\n    return idx;\n}\n\nfunction getObject(idx) { return heap[idx]; }\n\nfunction dropObject(idx) {\n    if (idx < 132) return;\n    heap[idx] = heap_next;\n    heap_next = idx;\n}\n\nfunction takeObject(idx) {\n    const ret = getObject(idx);\n    dropObject(idx);\n    return ret;\n}\n\nlet WASM_VECTOR_LEN = 0;\n\nconst lTextEncoder = typeof TextEncoder === 'undefined' ? (0, module.require)('util').TextEncoder : TextEncoder;\n\nlet cachedTextEncoder = new lTextEncoder('utf-8');\n\nconst encodeString = (typeof cachedTextEncoder.encodeInto === 'function'\n    ? function (arg, view) {\n    return cachedTextEncoder.encodeInto(arg, view);\n}\n    : function (arg, view) {\n    const buf = cachedTextEncoder.encode(arg);\n    view.set(buf);\n    return {\n        read: arg.length,\n        written: buf.length\n    };\n});\n\nfunction passStringToWasm0(arg, malloc, realloc) {\n\n    if (realloc === undefined) {\n        const buf = cachedTextEncoder.encode(arg);\n        const ptr = malloc(buf.length, 1) >>> 0;\n        getUint8Memory0().subarray(ptr, ptr + buf.length).set(buf);\n        WASM_VECTOR_LEN = buf.length;\n        return ptr;\n    }\n\n    let len = arg.length;\n    let ptr = malloc(len, 1) >>> 0;\n\n    const mem = getUint8Memory0();\n\n    let offset = 0;\n\n    for (; offset < len; offset++) {\n        const code = arg.charCodeAt(offset);\n        if (code > 0x7F) break;\n        mem[ptr + offset] = code;\n    }\n\n    if (offset !== len) {\n        if (offset !== 0) {\n            arg = arg.slice(offset);\n        }\n        ptr = realloc(ptr, len, len = offset + arg.length * 3, 1) >>> 0;\n        const view = getUint8Memory0().subarray(ptr + offset, ptr + len);\n        const ret = encodeString(arg, view);\n\n        offset += ret.written;\n        ptr = realloc(ptr, len, offset, 1) >>> 0;\n    }\n\n    WASM_VECTOR_LEN = offset;\n    return ptr;\n}\n\nlet cachedInt32Memory0 = null;\n\nfunction getInt32Memory0() {\n    if (cachedInt32Memory0 === null || cachedInt32Memory0.byteLength === 0) {\n        cachedInt32Memory0 = new Int32Array(wasm.memory.buffer);\n    }\n    return cachedInt32Memory0;\n}\n/**\n* å…¥å£ï¼šå±•ç¤ºNarseseç»“æ„\n* * ğŸ“Rustçš„`Result<T,E>`åœ¨WASMé“¾æ¥åå°†è½¬æ¢ä¸º\n*   * Ok(t) â‡’ è°ƒç”¨æ–¹æ‹¿åˆ°å€¼\n*   * Err(e) â‡’ `throw e`\n* @param {number} format_id\n* @param {string} input\n* @returns {string}\n*/\nfunction demonstrate_narsese(format_id, input) {\n    let deferred3_0;\n    let deferred3_1;\n    try {\n        const retptr = wasm.__wbindgen_add_to_stack_pointer(-16);\n        const ptr0 = passStringToWasm0(input, wasm.__wbindgen_malloc, wasm.__wbindgen_realloc);\n        const len0 = WASM_VECTOR_LEN;\n        wasm.demonstrate_narsese(retptr, format_id, ptr0, len0);\n        var r0 = getInt32Memory0()[retptr / 4 + 0];\n        var r1 = getInt32Memory0()[retptr / 4 + 1];\n        var r2 = getInt32Memory0()[retptr / 4 + 2];\n        var r3 = getInt32Memory0()[retptr / 4 + 3];\n        var ptr2 = r0;\n        var len2 = r1;\n        if (r3) {\n            ptr2 = 0; len2 = 0;\n            throw takeObject(r2);\n        }\n        deferred3_0 = ptr2;\n        deferred3_1 = len2;\n        return getStringFromWasm0(ptr2, len2);\n    } finally {\n        wasm.__wbindgen_add_to_stack_pointer(16);\n        wasm.__wbindgen_free(deferred3_0, deferred3_1, 1);\n    }\n}\n\n/**\n* åœ¨ä¸åŒæ ¼å¼ä¹‹é—´è½¬è¯‘Narseseï¼ˆä»æ•´æ•°IDå¼€å§‹ï¼‰\n* @param {string} input\n* @param {number} from_id\n* @param {number} to_id\n* @returns {string}\n*/\nfunction translate_between(input, from_id, to_id) {\n    let deferred3_0;\n    let deferred3_1;\n    try {\n        const retptr = wasm.__wbindgen_add_to_stack_pointer(-16);\n        const ptr0 = passStringToWasm0(input, wasm.__wbindgen_malloc, wasm.__wbindgen_realloc);\n        const len0 = WASM_VECTOR_LEN;\n        wasm.translate_between(retptr, ptr0, len0, from_id, to_id);\n        var r0 = getInt32Memory0()[retptr / 4 + 0];\n        var r1 = getInt32Memory0()[retptr / 4 + 1];\n        var r2 = getInt32Memory0()[retptr / 4 + 2];\n        var r3 = getInt32Memory0()[retptr / 4 + 3];\n        var ptr2 = r0;\n        var len2 = r1;\n        if (r3) {\n            ptr2 = 0; len2 = 0;\n            throw takeObject(r2);\n        }\n        deferred3_0 = ptr2;\n        deferred3_1 = len2;\n        return getStringFromWasm0(ptr2, len2);\n    } finally {\n        wasm.__wbindgen_add_to_stack_pointer(16);\n        wasm.__wbindgen_free(deferred3_0, deferred3_1, 1);\n    }\n}\n\nfunction __wbindgen_string_new(arg0, arg1) {\n    const ret = getStringFromWasm0(arg0, arg1);\n    return addHeapObject(ret);\n};\n\nfunction __wbg_new_abda76e883ba8a5f() {\n    const ret = new Error();\n    return addHeapObject(ret);\n};\n\nfunction __wbg_stack_658279fe44541cf6(arg0, arg1) {\n    const ret = getObject(arg1).stack;\n    const ptr1 = passStringToWasm0(ret, wasm.__wbindgen_malloc, wasm.__wbindgen_realloc);\n    const len1 = WASM_VECTOR_LEN;\n    getInt32Memory0()[arg0 / 4 + 1] = len1;\n    getInt32Memory0()[arg0 / 4 + 0] = ptr1;\n};\n\nfunction __wbg_error_f851667af71bcfc6(arg0, arg1) {\n    let deferred0_0;\n    let deferred0_1;\n    try {\n        deferred0_0 = arg0;\n        deferred0_1 = arg1;\n        console.error(getStringFromWasm0(arg0, arg1));\n    } finally {\n        wasm.__wbindgen_free(deferred0_0, deferred0_1, 1);\n    }\n};\n\nfunction __wbindgen_object_drop_ref(arg0) {\n    takeObject(arg0);\n};\n\n\n\n//# sourceURL=webpack://create-wasm-app/../pkg/narsese_structure_illustrator_bg.js?");

/***/ }),

/***/ "./index.ts":
/*!******************!*\
  !*** ./index.ts ***!
  \******************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _pkg__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../pkg */ \"../pkg/narsese_structure_illustrator.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_pkg__WEBPACK_IMPORTED_MODULE_0__]);\n_pkg__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n//! åŸºæœ¬é‡‡ç”¨Rusté£æ ¼å†™å°±çš„ä¸»æ–‡ä»¶\n//! * ğŸ“webpackæµ‹è¯•distï¼šé€šè¿‡`http-server`/`webserver`åŒ…\n//!   * åœ¨é`www`çš„å…¶å®ƒç›®å½•ä¸‹ï¼Œå¯èƒ½éœ€è¦ä½¿ç”¨`npx webserver run`å¯åŠ¨\n//! * ğŸ“å¦‚æœåªæ˜¯ç½‘é¡µçš„åŠŸèƒ½æ²¡æ›´æ–°ï¼Œæœ‰å¯èƒ½æ˜¯ç½‘é¡µç¼“å­˜ï¼ˆWASMæ–‡ä»¶ï¼‰çš„é—®é¢˜\n//! * âš ï¸è¦æŠŠæ•´ä¸ª`dist`çš„æ‰€æœ‰æ–‡ä»¶è¿ç§»åˆ°åˆ«çš„åœ°æ–¹ä½¿ç”¨ï¼Œå»ºè®®é¢„å…ˆåˆ é™¤ä»¥ä¿è¯æœ€æ–°ï¼ˆå¯èƒ½ä¸ä¼šè¦†ç›–ï¼‰\n//! * ğŸ“„å‚è€ƒï¼šhttps://blog.csdn.net/qq_25131799/article/details/102835481\n// !ã€2024-02-25 21:35:33ã€‘å‡çº§TypeScriptä¹‹åæ‰¾ä¸åˆ°ï¼šæ‰¾ä¸åˆ°æ¨¡å—â€œnarsese_structure_illustratorâ€æˆ–å…¶ç›¸åº”çš„ç±»å‹å£°æ˜ã€‚ts(2307)\n// import { demonstrate_narsese, translate_between } from \"narsese_structure_illustrator\"\n\n/**\n * å°è¯•åˆå§‹åŒ–MathJax\n */\nfunction try_init_mathjax() {\n    MathJax.tex = {\n        inlineMath: [['$', '$']],\n        processEscapes: true\n    };\n}\n/**\n * åœ¨DOMå…ƒç´ ä¸­åŠ è½½LaTeXæ–‡æœ¬\n */\nfunction load_latex(element, latex) {\n    element.innerHTML = latex;\n    // ç©ºâ‡’è¿”å›\n    if (latex === \"\")\n        return;\n    // äº¤ç”±MathJaxå¤„ç†\n    MathJax.texReset();\n    MathJax.typesetClear();\n    MathJax.typesetPromise([element]).catch((err) => {\n        element.innerHTML = '';\n        element.appendChild(document.createTextNode(err.message));\n        console.error(err);\n    });\n}\n/**\n * ç”¨äºè¡¨ç¤ºæ–‡æœ¬æ ¼å¼ID\n */\nvar FormatID;\n(function (FormatID) {\n    /**\n     * ASCII\n     */\n    FormatID[FormatID[\"ASCII\"] = 0] = \"ASCII\";\n    /**\n     * LaTeX\n     */\n    FormatID[FormatID[\"LATEX\"] = 1] = \"LATEX\";\n    /**\n     * æ¼¢æ–‡\n     */\n    FormatID[FormatID[\"HAN\"] = 2] = \"HAN\";\n})(FormatID || (FormatID = {}));\n/**\n * åœ¨ [index.html] ä¸­çš„åç¼€\n * * ä¸ä¸Šå¤´æšä¸¾ç›¸å¯¹åº”\n */\nconst FORMAT_ELEMENT_NAMES = [\n    \"ascii\",\n    \"latex\",\n    \"han\",\n];\n/**\n * æ„é€ ä¸€ä¸ªé€šç”¨çš„ã€Œå…ƒç´ ä»£ç†ã€ç±»\n * * ğŸ¯ç”¨äºå°è£…DOMå…ƒç´ \n * * ğŸ“Œæœ€åˆç”¨äºå¤ç”¨styleè®¾ç½®\n */\nclass ElementProxy {\n    constructor(\n    /** å°è£…çš„DOMå…ƒç´  */\n    dom) {\n        this.dom = dom;\n    }\n    /**\n     * è§£ææˆåŠŸæ—¶è®¾ç½®æ ·å¼\n     */\n    ok_style() {\n        this.dom.style.color = \"black\";\n        this.dom.style.fontWeight = \"normal\";\n    }\n    /**\n     * è§£æå¤±è´¥æ—¶è®¾ç½®æ ·å¼\n     */\n    err_style() {\n        this.dom.style.color = \"red\";\n        this.dom.style.fontWeight = \"bold\";\n    }\n    /**\n     * @implements IOutput\n     */\n    update(output, is_error, ..._other) {\n        // æ›´æ–°æ ·å¼\n        if (is_error) {\n            this.err_style();\n        }\n        else {\n            this.ok_style();\n        }\n        // æ›´æ–°å†…å®¹\n        this.set_content(output);\n    }\n}\n/**\n * æ„é€ ä¸€ä¸ªã€Œæ–‡æœ¬æ¡†ä»£ç†ã€ç±»\n * * å¯æ¥æ”¶è¾“å…¥ä»¥è¿›è¡Œæ›´æ–°\n */\nclass InputProxy extends ElementProxy {\n    /**\n     * æ„é€ å‡½æ•°\n     * @param dom DOMå…ƒç´ \n     */\n    constructor(\n    /** å°è£…çš„DOMå…ƒç´ ï¼ˆå‘è¶…ç±»ä¼ é€’ï¼‰ */\n    dom, \n    /** å¯¹åº”çš„æ ¼å¼ID */\n    id, \n    /** ç»Ÿä¸€è¾“å‡ºåˆ°ã€Œå±•ç¤ºå™¨ã€çš„ç›®æ ‡å…ƒç´  */\n    output) {\n        super(dom);\n        this.id = id;\n        this.output = output;\n        /** ã€å†…éƒ¨/è‡ªé€‚åº”æ–‡æœ¬æ¡†ã€‘è¾“å…¥ä¸€ä¸ªå­—ç¬¦å`scrollWidth`ä¸`æœ€åˆå®½åº¦çš„å·®ï¼ˆç”¨äºå¹³è¡¡ã€Œæœªåˆ°è¾¾è¾¹ç•Œæ—¶å¯èƒ½äº§ç”Ÿçš„åç§»çš„å·®å€¼ã€ï¼‰ */\n        this.input_width_delta = null;\n        /** ç”¨äºå¹¿æ’­çš„ã€Œå¤–éƒ¨ç¯å¢ƒã€ */\n        this.env = [];\n        this.initial_input_width = this.dom.scrollWidth;\n    }\n    // å®ç°æ¥å£ //\n    format_id() {\n        return this.id;\n    }\n    update_broadcast_env(env) {\n        // æ¸…ç©º\n        this.env.forEach(() => void this.env.pop());\n        // æ·»åŠ \n        env.forEach((input) => void this.env.push(input));\n    }\n    receive_broadcast(from, input) {\n        // console.log(\"æ¥æ”¶åˆ°å¹¿æ’­\", input)\n        // è‹¥ä¸ºè‡ªå·±â‡’è¿”å›\n        if (from === this)\n            return;\n        // å†…å®¹ä¸ºç©ºâ‡’ç½®ç©º\n        if (input === \"\")\n            return this.clear_content();\n        // å¼€å§‹è½¬å†™æ ¼å¼\n        let content;\n        let is_error = false;\n        try {\n            // ç»“åˆåŒæ–¹IDå¼€å§‹è½¬å†™æ ¼å¼ï¼šä»æºå¤´è½¬æ¢ä¸ºè‡ªèº«\n            content = (0,_pkg__WEBPACK_IMPORTED_MODULE_0__.translate_between)(input, \n            // ä»æºå¤´\n            from.format_id(), \n            // åˆ°è‡ªèº«\n            this.id);\n        }\n        // æ­¤ä¸­`Option<String, String>`æŠ›å‡ºä¸€ä¸ªå­—ç¬¦ä¸²\n        catch (error) {\n            content = String(error);\n            is_error = true;\n        }\n        // æ›´æ–° | è¢«åŠ¨è¾“å…¥\n        this.update(content, is_error, false);\n    }\n    /**\n     * å¯åŠ¨\n     * * æ·»åŠ ä¾¦å¬å™¨ç­‰åç½®æ“ä½œ\n     */\n    launch() {\n        this.attachEventListener();\n    }\n    // å®ç°æŠ½è±¡ç±» //\n    set_content(content) {\n        this.dom.value = content;\n    }\n    update(output, is_error, is_user_input) {\n        super.update(output, is_error);\n        // !ã€2024-02-25 22:26:11ã€‘å¼ƒç”¨ï¼šæš‚æ—¶æ— æ³•å½»åº•è§£å†³ã€Œä¸€ä¸‹è®¾ç½®å¤ªå¤šæ–‡æœ¬ã€çš„é—®é¢˜ï¼Œäº¦ä¸èƒ½ç›´æ¥è§£å†³ã€Œä»åŠ¨è¾“å…¥ã€çš„é—®é¢˜\n        /* if (is_user_input) {\n            // ç”¨æˆ·è¾“å…¥â‡’åŠ¨æ€æ›´æ–°å®½åº¦\n             */ this.update_width(); /*\n   }\n   else {\n       // å¹¿æ’­æ›´æ–°â‡’å°è¯•ç›´æ¥è®¾ç½®å®½åº¦\n       if (this.input_width_delta === null)\n           this.initial_input_width = this.dom.scrollWidth\n       this.dom.style.width = this.dom.scrollWidth + \"px\"\n   } */\n    }\n    // ç‹¬æœ‰æ–¹æ³• //\n    /**\n     * ç»Ÿä¸€æ·»åŠ ä¾¦å¬\n     */\n    attachEventListener() {\n        this.dom.addEventListener(\"input\", \n        // !ã€2024-02-25 21:03:52ã€‘æ­¤å¤„å¿…é¡»è¿›è¡Œè½¬æ¢\n        (ev) => this.on_input(ev));\n    }\n    /**\n     * ä¾¦å¬è¾“å…¥\n     */\n    on_input(event) {\n        if (event.target === null)\n            return;\n        // console.log(event)\n        // å›å¤æ ·å¼\n        this.ok_style();\n        // è·å–è¾“å…¥\n        const input = this.dom.value; // * ğŸ“æ–‡æœ¬æ¡†ä½¿ç”¨`value`å±æ€§è·å–å†…å®¹\n        // console.log(\"æ›´æ–°ï¼\", this, event, input)\n        // æ›´æ–°è¾“å‡º\n        this.demonstrate_narsese(input);\n        // æ›´æ–°è¾“å…¥å®½åº¦\n        this.update_width();\n        // å¹¿æ’­ï¼šç¿»è¯‘åˆ°å…¶å®ƒè¾“å…¥æ¡†\n        for (const other of this.env) {\n            // é™¤äº†è‡ªå·±\n            if (other !== this)\n                other.receive_broadcast(this, input);\n        }\n    }\n    /**\n     * è‡ªé€‚åº”å®½åº¦\n     */\n    update_width() {\n        /** å¾…è®¡ç®—çš„å®½åº¦ */\n        let W;\n        if (this.dom.value) {\n            // ç©ºå€¼åˆå¹¶\n            if (!this.input_width_delta)\n                this.input_width_delta = this.dom.scrollWidth - this.initial_input_width;\n            // è®¡ç®—å®½åº¦\n            W =\n                // ! æ­¤ä¸­çš„ã€Œ-DELTAã€ç”¨äºé¿å…å®½åº¦æ— è°“å¢å¤§\n                this.dom.scrollWidth - this.input_width_delta;\n        }\n        else {\n            // æ— å†…å®¹â‡’é‡ç½®å®½åº¦\n            W = this.initial_input_width;\n            // åç»­é‡æ–°è®¡ç®—\n            this.input_width_delta = null;\n        }\n        /** è½¬æ¢ä¸ºå­—ç¬¦ä¸² */\n        const W_STR = W.toString() + \"px\";\n        this.dom.style.width = W_STR;\n        this.dom.width = W;\n        // element.style.width = textWidth + \"px\"\n    }\n    /**\n     * å±•ç¤ºNarsese\n     */\n    demonstrate_narsese(input) {\n        // å†…å®¹ä¸ºç©ºâ‡’ç½®ç©º\n        if (input === \"\")\n            return this.clear_content_and_output();\n        let is_error = false;\n        let out;\n        try {\n            // ! â†“ä¸‹è¾¹éšå«æœ‰ã€Œ`Err(e)` â‡’ `throw e`ã€\n            out = (0,_pkg__WEBPACK_IMPORTED_MODULE_0__.demonstrate_narsese)(this.id, input);\n        }\n        catch (e /* å­—ç¬¦ä¸² */) {\n            is_error = true;\n            out = String(e); // ä½¿ç”¨æ„é€ å‡½æ•°è¿›è¡Œè½¬æ¢\n        }\n        // é€šçŸ¥è¾“å‡ºæ›´æ–°\n        this.output.update(out, is_error);\n    }\n    /**\n     * ç½®ç©ºæ–‡æœ¬å†…å®¹\n     */\n    clear_content() {\n        this.update(\"\", false, false);\n    }\n    /**\n     * ç½®ç©ºæ–‡æœ¬å†…å®¹ä¸è¾“å‡º\n     */\n    clear_content_and_output() {\n        this.clear_content();\n        this.output.update(\"\", false);\n    }\n}\n/**\n * ç‰¹æ®ŠåŒ…è£…@LaTeXï¼šæ”¯æŒMathJaxé¢„è§ˆ\n */\nclass InputProxyLatex extends InputProxy {\n    constructor(\n    /** å°è£…çš„DOMå…ƒç´ ï¼ˆå‘è¶…ç±»ä¼ é€’ï¼‰ */\n    dom, id, output, \n    /** å°è£…çš„é¢„è§ˆDOMå…ƒç´  */\n    dom_latex_preview) {\n        super(dom, id, output);\n        this.dom_latex_preview = dom_latex_preview;\n        // åˆå§‹åŒ–MathJax\n        // @ts-ignore\n        try_init_mathjax();\n    }\n    /**\n     * è¦†ç›–ï¼šé¢å¤–æ›´æ–°LaTeX\n     */\n    on_input(event) {\n        // å‘ä¸Šä¼ é€’\n        super.on_input(event);\n        // æ›´æ–°LaTeX\n        this.update_latex(this.dom.value === null || this.dom.value === \"\" ? \"\" : this.dom.value);\n    }\n    /**\n     * è¦†ç›–ï¼šé¢å¤–æ›´æ–°LaTeX\n     */\n    update(output, is_error, is_user_input) {\n        // å‘ä¸Šä¼ é€’\n        super.update(output, is_error, is_user_input);\n        // æ›´æ–°LaTeX | å‡ºé”™æ—¶æ¸…ç©º\n        this.update_latex(is_error ? \"\" : output);\n    }\n    /**\n     * å±•ç¤ºæ—¶å¢åŠ æ›´æ–°\n     */\n    demonstrate_narsese(input) {\n        super.demonstrate_narsese(input);\n        this.update_latex(input === null || input === \"\" ? \"\" : input);\n    }\n    /**\n     * æ›´æ–°LaTeXé¢„è§ˆ\n     * * ğŸš©ç›´æ¥åœ¨è‡ªèº«å¼•ç”¨çš„è¾“å‡ºä¸­è®¡ç®—å¹¶åŠ è½½LaTeXæ–‡æœ¬\n     */\n    update_latex(text) {\n        // ğŸ“„ç¤ºä¾‹(text)ï¼š\\\\$0.01\\\\$ \\\\left<A \\\\rightarrow  B\\\\right>Â¿\n        load_latex(this.dom_latex_preview, InputProxyLatex.format_latex(text));\n        console.log(\"æ›´æ–°LaTeX\");\n    }\n    /**\n     * æ•´ç†LaTeXæ–‡æœ¬\n     * * â„¹ï¸æœ€åˆæ˜¯å› ä¸ºã€ŒMathJaxæ— æ³•è‰¯å¥½å¤„ç†`\\left<A \\rightarrow  B\\right>.`ã€è€Œè®¾ç½®\n     *   * ğŸ“ŒåŸå› ï¼š`\\left<A`æ— æ³•è¢«ä½œä¸º`\\left< A \\right>`è¯†åˆ«\n     */\n    static format_latex(text) {\n        // ç©ºâ‡’ç½®ç©º\n        if (text === \"\")\n            return \"\";\n        // å…¶å®ƒ\n        return ('$' +\n            text\n                // `\\left<A` => `\\\\left< A`\n                .replace(/\\\\left\\\\?./g, (matched) => matched + ' ')\n                // `\\left(\\times   A  B  C\\right)` => `\\left(\\times \\;\\; A  B  C\\right)`\n                .replace(/ {2,}/g, '\\\\;')\n                // `A. \\backslash\\!\\!\\!\\!\\Rightarrow` => `A. \\backslash \\!\\!\\!\\!\\Rightarrow`\n                .replace(/\\\\\\w+\\\\/g, (matched) => matched.slice(0, matched.length - 1) + ' ' + matched[matched.length - 1])\n            + '$');\n    }\n}\n/**\n * å®ç°å¹¶åŒ…è£…ã€Œè¾“å‡ºã€DOMå…ƒç´ \n */\nclass OutputProxy extends ElementProxy {\n    /**\n     * æ„é€ å‡½æ•°\n     * @param dom DOMå…ƒç´ \n     */\n    constructor(\n    /** å°è£…çš„DOMå…ƒç´ ï¼ˆå‘è¶…ç±»ä¼ é€’ï¼‰ */\n    dom) { super(dom); }\n    // å®ç°æ¥å£ //\n    update(output, is_error) {\n        // æ›´æ–°æ ·å¼\n        if (is_error) {\n            this.err_style();\n        }\n        else {\n            this.ok_style();\n        }\n        // æ›´æ–°å†…å®¹\n        this.set_content(output);\n    }\n    // å®ç°æŠ½è±¡ç±» //\n    set_content(text) {\n        this.dom.textContent = text;\n    }\n}\n/**\n * è¾“å‡ºï¼ˆå±•ç¤ºæ¡†ï¼‰\n */\nconst DOM_OUTPUT = document.getElementById(\"output\");\n/** å°è£…ä¸ºä»£ç† */\nconst OUTPUT = new OutputProxy(DOM_OUTPUT);\n/**\n * è¾“å‡ºï¼ˆLaTeXï¼‰\n */\nconst DOM_LATEX_OUTPUT = document.getElementById(\"latex_preview\");\n/**\n * æ‰¹é‡è·å–è¾“å…¥DOMå…ƒç´ \n * * åç»­ç›´æ¥é€šè¿‡`FormatID`è®¿é—®\n */\nconst DOM_INPUTS = FORMAT_ELEMENT_NAMES.map(id => document.getElementById(`input_${id}`));\n/** å°è£…ä¸ºä»£ç† */\nconst INPUT_PROXIES = [];\nfor (const [id, dom] of DOM_INPUTS.entries()) {\n    switch (id) {\n        // LaTeXç‰¹åˆ¶\n        case FormatID.LATEX:\n            INPUT_PROXIES[id] = new InputProxyLatex(dom, id, OUTPUT, DOM_LATEX_OUTPUT);\n            break;\n        // ä¸€èˆ¬\n        default:\n            INPUT_PROXIES[id] = new InputProxy(dom, id, OUTPUT);\n    }\n}\n// æ›´æ–°ä»£ç†å¤–éƒ¨ç¯å¢ƒ\nINPUT_PROXIES.forEach(proxy => {\n    proxy.update_broadcast_env(INPUT_PROXIES);\n});\n// ğŸ”¥å¯åŠ¨ï¼\nINPUT_PROXIES.forEach(proxy => proxy.launch());\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://create-wasm-app/./index.ts?");

/***/ }),

/***/ "../pkg/narsese_structure_illustrator_bg.wasm":
/*!****************************************************!*\
  !*** ../pkg/narsese_structure_illustrator_bg.wasm ***!
  \****************************************************/
/***/ ((module, exports, __webpack_require__) => {

eval("/* harmony import */ var WEBPACK_IMPORTED_MODULE_0 = __webpack_require__(/*! ./narsese_structure_illustrator_bg.js */ \"../pkg/narsese_structure_illustrator_bg.js\");\nmodule.exports = __webpack_require__.v(exports, module.id, \"7383e8444ed90cdcb94a\", {\n\t\"./narsese_structure_illustrator_bg.js\": {\n\t\t\"__wbindgen_string_new\": WEBPACK_IMPORTED_MODULE_0.__wbindgen_string_new,\n\t\t\"__wbg_new_abda76e883ba8a5f\": WEBPACK_IMPORTED_MODULE_0.__wbg_new_abda76e883ba8a5f,\n\t\t\"__wbg_stack_658279fe44541cf6\": WEBPACK_IMPORTED_MODULE_0.__wbg_stack_658279fe44541cf6,\n\t\t\"__wbg_error_f851667af71bcfc6\": WEBPACK_IMPORTED_MODULE_0.__wbg_error_f851667af71bcfc6,\n\t\t\"__wbindgen_object_drop_ref\": WEBPACK_IMPORTED_MODULE_0.__wbindgen_object_drop_ref\n\t}\n});\n\n//# sourceURL=webpack://create-wasm-app/../pkg/narsese_structure_illustrator_bg.wasm?");

/***/ })

}]);